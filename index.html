<html>

<head>
    <meta charset="utf-8">
    <title>Collective Rest Portal | virtual care lab</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="Collective Rest Portal is hosted by virtual care lab for the 4S Annual Conference">
    <meta name="author" content="virtual care lab">

    <link rel="stylesheet" href="style.css">
    <!--font-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Include firebase scripts from CDN      -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use-->
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>

</head>

<div class="topSection"> 
  <div class="topDiv"><h1>WELCOME TO OUR PORTAL FOR COLLECTIVE REST...</h1></div>
  <div class="topDiv">
    <audio controls src="/media/cc0-audio/t-rex-roar.mp3">
            Your browser does not support the
            <code>audio</code> element.
    </audio>

  </div>
</div>

<br>

<!-- <hr style="border:1px solid black;"> -->

<br><br><br>


<body>
    <div id="main-section">

     <div id="bed" onclick="replace('section-bed')">MAKING<br>THE BED</div> 
     <div id="why" onclick="replace('section-why')"><br>WHY COLLECTIVE<br>REST?</div>
     <div id="presence" onclick="replace('section-presence')"><br>PRESENCE</div>
     <div id="lineages" onclick="replace('section-lineages')">lineages</div>
     <div id="score" onclick="replace('section-score')">score</div>

     <div id='current-section'>
         <br><br>
         <div id='section-bed'>
              <br>
              WHAT DO YOU NEED IN ORDER TO REST WELL?
              <br><br><br>

              <!-- This list is where all text in the database is shown -->
              <div id="chat-container"></div>
              <br><br>
              
              <!-- This input form controls submission of text input -->
              <form id="text-input-form" onsubmit="return false">
                <input type="text" id="text-input-entry" placeholder="Share your needs for collective rest..."/>
                <input type="submit" id="text-input-submit" value="Share"/>
              </form>
              <br><br>
         </div>

         <div id='section-why'>
              <i>“We invite scholarship that critically addresses the methods and practices that maintain oppressions within technoscience, especially as our universities increasingly become neoliberal places of “production.” How do we, in our university work, care for our societies under neoliberal rules?”</i>
              <br><br>
              virtual care lab believes that much of this work of caring for societies starts with caring for ourselves and each other. It starts with taking a break from the daily scheduled programming. It starts with rest from the neoliberal gauntlet that says you need to work, earn money, do do do despite
              <br><br>
              Global pandemic
              Climate crisis
              Ongoing systemic oppression based on race, class, and immigration status
              Economic downturns
              Mass unemployment
              Housing precarity
              Hyper police state
              Mental health needs
              Health problems
              <br><br>
              Taking a break from this “programming” also means taking a break from your internal programming as well. It means breaking from the violence notions of progress, competition, and zero sum mentality.  Real rest requires you to identify and unravel the ways that you have internalized oppressive ideas and now enact them in your own life. Trying to rest with all this pain in place is like trying to sleep on a lumpy mattress covered in bedbugs. Not gonna happen. Before we rest, we have to remake the bed. We have to name systems of oppression, acknowledge the pain they cause, identify and critique our role in the nightmare, and then collectively tuck ourselves back in. Rest requires us to do this internal and collective work, in solidarity.  
              <br><br>
              If you identify as white, male, cis or American/Western gearing up the rest may mean taking a few steps back to analyze how the dominate pieces of your intersectional identity may encourage you to be complicit in systems of oppression. It may mean reading more critical race theory. It may mean redistributing wealth. It may mean owning up to times that you’ve harmed people due to your internalized biases. You have to learn - before you can rest.
              <br><br>
              If you identify as non-white, non-male, or non-American/Western taking break from this programming may involve tuning into internalized marginalization creating communities of care or nurture the ones that already exist in your life. It may mean taking a day off every so often, if possible. It may mean asking others for help. It may mean doing whatever you need to do to take a break and recharge. 
              <br><br>
              Look: there are a lot of tired people out there. You might be one of them. It may be the most common complaint we hear from loved ones and coworkers. The most common characteristic we see in strangers. The look of the commuter across the train platform. The eyes of the taxi driver. The Zoom fatigue. The tech neck. People are tired. Mostly tired of being tired. Tired of work. Tired of not making enough money despite the hard work. Tired of being stuck in systems that don’t care for them. 
              <br><br>
              Collective rest is not only about taking a break together. It’s about acknowledging that need for rest exists on a spectrum. Some of us are more tired than others given our place in the gauntlet of neoliberalism. The COVID19 pandemic has shed light on the many hues of feeling tired. Hues that deepen, bleed into each other, or fade depending on your socio-economic status, ability, mental health needs, race, gender, profession, nationality, and region. 
              <br><br><br><br>
              worn out
              exhausted
              fatigued
              tired out
              overtired
              weary
              sleepy
              drowsy
              sapped
              dog-tired
              spent
              drained
              debilitated
              enervated
              over it 
              done finished
              dead
              dead beat
              burnt out
              Pooped
              Burnt out
              shot 
              Sick and tired
              Nothing left in the tank
              <br><br>
              In order for us to rest together we need to acknowledge that it’s harder for some people to rest than others. Fatigue can be compounded based on someone’s situation. Supporting each other in rest means meeting each other where we are at in our need for rest. 
              <br><br>
              virtual care lab creates and nurtures digital experiments in togetherness. Operating in the ether, as a precariously funded entity, means that we are often tired of our screens and tend to work after our day jobs. This being said, our ethereal care lab technicians come from diverse backgrounds - and prioritize decolonizing efforts within our own community. We acknowledge that rest may be harder to come by for some of our community members than others.   With the collective rest portal, we hope to bring more rest into our lives alongside our digital co-conspirators.as a method and practice in prioritizing rest.

         </div>

         <div id='section-presence'>
              COUNTER
              <br><br><br>
              <span id="presenceCounter"></span>
              <h1><p id="counter"></p></h1>
         </div>

         <div id='section-lineages'>
          lineages
         </div>

         <div id='section-score'>
          You’re here. 
          <br><br>
          Take a moment to acknowledge how that feels in your body, to be here.
          <br><br>
          Breathe into that feeling. Hereness.
          <br><br>
          Breathe into it again.
          <br><br>
          Are you tired?
          <br><br>
          Would you like to rest?
          <br><br><br><br>
          We want to help you rest.
          <br><br>
          Find somewhere cozy where you are—a bed or couch or floor.
          <br><br>
          Maybe you want to go for a walk. 
          <br><br>
          Maybe you want to take a bath, cook a soup, lie down outside with your shoes off.
          <br><br>
          There are so many ways to rest. 
          <br><br><br><br>
          Resting is what keeps you alive—not work.
          <br><br>
          There will be time to work later. It will be good and important later.
          <br><br>
          Now, if you are tired, it’s time to rest.
          <br><br>
          To stand back, let go, be left.
          <br><br>
          Ease yourself into rest.
          <br><br>
          Make love to rest.
          <br><br>
          Get as comfortable as you want.
          <br><br>
          There are no cameras on. No one is watching.
          <br><br>
          Rest. 
          <br><br><br><br>
          If you don’t know how to rest right now, that’s okay.
          <br><br>
          As a culture, we aren’t taught how to rest.
          <br><br>
          We’re only taught how to grind and over-perform.
          <br><br>
          Rest is the confidant move.
          <br><br>
          When we rest we tell ourselves that we are valuable, precious, so loved and deserving of care.
          <br><br>
          And you are so loved and deserving of care.
          <br><br>
          And you are integrating so much information at this conference.
          <br><br>
          And your mind is working so hard to focus on discerning information from your device.
          <br><br>
          And your body is working so hard to quiet its needs so that you can stay seated alone at your computer.
          <br><br>
          And your heart is working so hard to feel engaged and present, despite not being able to be in shared physical space with the other people who are learning alongside you.
          <br><br><br><br>
          Often, our exhaustion is our loneliness.
          <br><br>
          But you are not alone in feeling exhausted.
          <br><br>
          (We are all fucking exhausted)
          <br><br>
          Can you rest with us?
          <br><br>
          Do you have an eye mask to put on? 
          <br><br>
          Do you have nap music to play?
          <br><br>
          Do you have a robe or fuzzy blanket?
          <br><br>
          Do you have a book you’ve been meaning to sink into? 
          <br><br>
          Do you have a favorite movie from your childhood that helps you relax?
          <br><br>
          Do you have epsom salts for your bath?
          <br><br>
          Is it sunset and the perfect weather for a meandering walk through your neighborhood?
          <br><br>
          Could you call a friend?
          <br><br>
          Are there other things you do to let yourself surrender control and unwind?
          <br><br>
          We really really want you to. 
          <br><br>
          Ten minutes of rest.
          <br><br>
          An hour of rest.
          <br><br>
          We’re here for it.
          <br><br>
          At any point this week, every day this week, you can come back here, let our care lull you into remembering the deeper truth of your rest. 
          <br><br>
          Your value. 
          <br><br>
          Your connection to all the other bodies beaming in to this conference 
          <br><br>
          who need rest as much as you do.

         </div>

         <div id='section-about'>
          about
         </div>

         <br><br>
     </div>


     <div id="about" onclick="replace('section-about')">about</div>
</body>


    <!-- All the magic happens in this part of the code -->
    <script>

      let chatContainer = document.getElementById("chat-container");

      //First we just set some config parameters
      //These are meant to be secret to my project, so please be nice
      var firebaseConfig = {
        apiKey: "AIzaSyAhsseNLfVomaBwaBw88uqaPP23ccgL08c",
        authDomain: "vcl-rest.firebaseapp.com",
        databaseURL: "https://vcl-rest-default-rtdb.firebaseio.com",
        projectId: "vcl-rest",
        storageBucket: "vcl-rest.appspot.com",
        messagingSenderId: "806191675690",
        appId: "1:806191675690:web:210479404a19a7cbc54653",
        measurementId: "G-B51QSEWRJL"
      };

      //Then we set up with firebase project data
      firebase.initializeApp(firebaseConfig); 

      const db = firebase.database(); //firebase has different features. we set up short to the database feature. 
      let dbRef = db.ref("/text"); //database shouldn't be accessed in its root. needs reference to a folder inside. if it doesn't exist it'll make it for you
      dbRef.on("child_added", data => { //gets called when data comes through. 'data =>' is an anonymous function shortcut
        let id = data.key;
        let value = data.val();
        //So you just add that new thing
        console.log(value);
        chatContainer.innerHTML = chatContainer.innerHTML + "<div class='response'>" + value + "</div>";
      });

      console.log(chatContainer);

      //click button will run this function
      const textInputSubmit = document.getElementById("text-input-submit");
      textInputSubmit.addEventListener("click", () => submitText()); 
      //can also use "click", (e) => {console.log(e)} and when you use this the 'e' has additional info like e.pageX where on the page they clicked (would use 'window.addEventListener')

      let textContainerElement = document.getElementById("text-input-entry");
      function submitText() {
        let textToSubmit = textContainerElement.value; //gets text value from textbox
        let newKey = dbRef.push().key; //ask firebase to give you a new key / 'name'

        let updates = {}; //going to send firebase list of values
        updates[newKey] = textToSubmit;
        dbRef.update(updates);
      }

      //CHAT SCROLL BOTTOM

      function scrollToBottom() {
        var chat = document.getElementById("chat-container");
        chat.scrollTop = chat.scrollHeight;
      }

      // //CLEAR FORM
      // function submitForm() {
      //    var frm = document.getElementById("text-input-form");
      //    frm.submit(); // Submit
      //    frm.children('input').val('');  // Reset
      //    return false; // Prevent page refresh
      // }


      //PRESENCE COUNTER

      let presenceRef = db.ref("/presence");
      let thisVisitor = presenceRef.push();
      
      // console.log(presenceRef);
      
      // presenceRef.on('value', function(snapshot) {
      //    if (snapshot.exists())
      //       console.log ("folder exists");
      //    else
      //       console.log("make new folder");
      // });

      presenceRef.on("value", function(snap) {
        if (snap.val()) {
          // Remove ourselves when we disconnect.
          thisVisitor.onDisconnect().remove();
          thisVisitor.set(true);
        }
      });

      // Number of online users is the number of objects in the presence list.
      presenceRef.on("value", function(snap) {
        presenceCounter.innerHTML = (snap.numChildren() - 1) + " currently resting";
        console.log("# online = " + (snap.numChildren() - 1));
      });

      function replace(section_id) {
       document.getElementById('section-bed').style.display = 'none';
       document.getElementById('section-why').style.display = 'none';
       document.getElementById('section-presence').style.display = 'none';
       document.getElementById('section-lineages').style.display = 'none';
       document.getElementById('section-score').style.display = 'none';
       document.getElementById('section-about').style.display = 'none';
       document.getElementById(section_id).style.display ='block';
      }

    </script>

</html>