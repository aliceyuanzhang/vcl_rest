<html>

<head>
    <meta charset="utf-8">
    <title>Collective Rest Portal | virtual care lab</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="Collective Rest Portal is hosted by virtual care lab for the 4S Annual Conference">
    <meta name="author" content="virtual care lab">

    <link rel="stylesheet" href="style.css">
    <!--font-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Include firebase scripts from CDN      -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use-->
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>

</head>

<!-- <div class="topSection"> 
  <div class="topDiv"></div>
  <div class="topDiv">
  </div>
</div> -->

<br>

<!-- <hr style="border:1px solid black;"> -->

<br><br><br>


<body>
    <div id="main-section">
     <div id="menu">
       <div id="bed" onclick="replace('section-bed')">MAKING<br>THE BED</div> 
       <div id="why" onclick="replace('section-why')"><br>WHY COLLECTIVE<br>REST?</div>
       <div id="presence" onclick="replace('section-presence')"><br>PRESENCE</div>
       <div id="lineages" onclick="replace('section-lineages')">LINEAGES</div>
       <div id="score" onclick="replace('section-score')">SCORE</div>
       <div id="about" onclick="replace('section-about')">ABOUT</div>
     </div>
     <div id='current-section'>

         <br><br>
         <div id='section-bed'>
              <span class="bedqbr"><br></span>
              WHAT DO WE NEED IN ORDER TO REST WELL?<span class="bedqbr"><br></span>
              HOW CAN WE OPEN UP SPACE FOR OTHERS TO REST WELL?
              <br><br><br>

              <!-- This list is where all text in the database is shown -->
              <div id="chat-container"></div>
              <br><br>
              
              <!-- This input form controls submission of text input -->
              <form id="text-input-form" onsubmit="return false">
                <input type="text" id="text-input-entry" placeholder="Let folks know..."/>
                <input type="submit" id="text-input-submit" onclick="submitlock()" value="Share"/>
              </form>
              <br><br>
         </div>

         <div id='section-why'>
              The work of caring for societies starts with caring for ourselves and each other. Rest is as essential to our communities as it is to our bodily health, and it is under constant threat from neoliberal pressures that demands constant work in order to justify individual life. Meaningful rest intervenes in that current: it offers a necessary break, however short-lived, from the daily rhetoric that says you need to work, earn money, <i>do do do</i> despite a <i>global pandemic – climate crisis – ongoing systemic oppression based on race, class, and immigration status – economic downturns – mass unemployment – housing precarity – hyper police state – mental health needs – illness - and so on...</i>
              <br><br>
              Finding rest may involve building communities of care that nurture shared moments of leisure, listening, and togetherness. It may mean taking a day off from work if possible, or asking others for help, or creating ways to recharge. (Sometimes, finding rest may mean noticing how the ways you move through the world may make you complicit in systems of oppression.) And, we need not work alone – we can do this together, in solidarity. 
              <br><br>
              Rest is a necessary aspect of life and a collective responsibility. Each of us has a role in ensuring that all of us have space, time and invitation to rest. And, our needs and access to rest vary based on intergenerational as well as day-to-day circumstances. Folks may be facing everything from midnight worries to family demands, health challenges, insufficient income, housing precarity, and any number of stressors compounded by intersecting and often systemic injustices. Collective rest invites us to meet each other where we are, tune into each others' needs for rest, and seek ways to make rest possible for everyone. 
              <br><br>
              We hope this portal serves as a nudge and a nest for rest in this very moment, as we are, together. 
              <br>
         </div>

         <div id='section-presence'>

              <br><br>
              <span id="presenceCounter"></span>
              <h1><p id="counter"></p></h1><br>
              <audio controls src="./media/sound_elc.mp3">
                  Your browser does not support the
                  <code>audio</code> element.
              </audio>
         </div>

         <div id='section-lineages'>

          We are honored to share stories, books, articles, conversations, memories, and somatic impressions that have provided valuable inspiration in developing a collective rest practice. We celebrate alternative modes of inquiry from anecdotal storytelling, movement research, and other media and practices alongside more academically typical books and articles, acknowledging the complex and very human traditions of rest that inspire us. 
          <br><br><hr><br>
          <i>“One of the few memories I have before migrating across the pacific was resting in my grandparent’s house. I would spend whole afternoons in the south-facing room, lying on my back as one or two of the mothers or family friends gossiped while rhythmically patting my stomach with their knowing, battered hands. Nowadays it’s become a healing memory I revisit often to remind my body what it feels like to be held communally, outside of capitalistic expectations.”</i>
          <br><br>
          “Rest is Resistance.” <a href="https://thenapministry.wordpress.com/">The Nap Ministry</a> by Tricia Hershey
          <br><br>
          <a href="https://bookshop.org/books/how-to-do-nothing-resisting-the-attention-economy/9781612198552">How To Do Nothing: Resisting the Attention Economy</a> by Jenny Odell
          <br><br>
          <i>“Every evening, after coming home from work, my mom would drop all her bags onto the couch and then go upstairs to take off her bra and work clothes. She wouldn’t talk to anyone until she had changed into her comfortable clothes. I would usually follow her to her room and I can still see her there, standing next to her bed, doubling her arm back behind her body to unsnap her bra, and then pulling it off through the armpit holes of her shirt and flinging it onto the floor. Later in the evening, she would always tell us she was going to bed, but her light would stay on for an hour or two while she would read. Propped up with a few weirdly shaped pillows, with her book resting on her thighs. My dad would fall asleep next to her with the light on, while she continued to read. Often I would curl in next to her, with my own book, and we would read together until 11 pm or midnight even. Then she’d turn the light off and kiss me on the farhead. My mom always told me that she learned to read so much from her mother. So, I’m realizing, reading is my body’s rest lineage.”</i>
          <br><br>
          <a href="https://emreed.net/Proof_of_Rest.html">Statements Towards the Establishment of a Proof-of-Rest Protocol</a> by Emilie M. Reed
          
          <br><br>
          <a href="https://movementresearch.org/event/14853">Love Letters 2 Your Body</a> by Malcolm-x Betts
          <br><br> 
          <a href="https://theanarchistlibrary.org/library/paul-lafargue-the-right-to-be-lazy">The Right To Be Lazy</a> by Paul Lafargue 
          <br><br>
          <a href="https://libcom.org/library/deleuze-marx-politics-nicholas-thoburn-5">“The Refusal of Work”</a> by Deleuze, Marx and Politics 
          <br><br>
          <i>“My dad would work long hours in construction with low wages as a non-English speaker. When he came home, he would shower off his tiredness, and get set up to work on these big bright spacious oil paintings that I have to this day. I look back on his life-affirming practice as an active discipline of rest.”</i>
          <br><br>
          <a href="https://icpla.edu/wp-content/uploads/2014/03/social-dreaming-as-sustained-thinking.pdf">"Dreaming as Sustained Thinking", and Social Dreaming Matrix practices, by G. Gordon Lawrence 
          <br><br>
          <a href="https://www.researchgate.net/publication/265251255_The_Encyclopedia_of_Sleep_And_Dreams_2_vol">The Encyclopedia of Sleep and Dreams</a> ed. by Deidre Barrett and Patrick McNamara (includes many entries on historical and contemporary cross-cultural collective sleep/dreaming traditions)
          <br><br>
          <a href="https://www.versobooks.com/books/1570-24-7">24/7: Late Capitalism and the Ends of Sleep</a> by Jonathan Crary 
          <br><br>
          <i>“My 93 year old grandma falls asleep wherever and whenever she wants. After waking up, mid afternoon, after dinner… everybody respects that her aging body needs rest. When I’m there, I nap with her. We relax together and fall asleep sometimes on the couch, her bed, or the comfy chairs in her living room. She snores and I laugh, until I’m snoring too. There’s no alarm clock. We have all the time in the world.”</i> 
          <br><br>

         </div>

         <div id='section-score'>
          You’re here. 
          <br><br>
          Settle into a cozy place for a bit—a bed or couch or floor.
          <br><br>
          Maybe lie down outside with your shoes off.
          <br><br>
          Find something small and substantial for this moment. 
          <br><br>
          Or take a bath, a walk... we'll be right here when you're back. 
          <br><br><br><br>
          Take a moment to acknowledge how that feels in your body, to be here.
          <br><br>
          Find the lowest part of your body.
          <br><br>
          Breathe into it feeling. Hereness.
          <br><br>
          Thaw out the parts of your body that have been most in contact with your digital devices. Maybe you wiggle your fingers or roll your eyes.
          <br><br>
          Let float all the information you have been holding. 
          <br><br>
          Loosen your mind. 
          <br><br>
          What senses have been longing for you to check in? Move your tongue, touch the material around you, hold your heart for a bit. 
          <br><br>
          Breathe into it again.
          <br><br><br><br>
          Breathing is what keeps us alive.
          <br><br>
          So that we can do the good and important work together.
          <br><br>
          And rest is part of that work too. 
          <br><br>
          Ease yourself in.
          <br><br>
          Make love to rest. 
          <br><br>
          Sometimes, our exhaustion is our loneliness.
          <br><br>
          But we do not have to be alone in our exhaustion.
          <br><br>
          When we rest we tell ourselves that we love ourselves, and that we deserve care.
          <br><br>
          We love you, yes you, and you deserve care.
          <br><br><br><br>
          Are there things you do to unwind and surrender into trusted arms?
          <br><br>
          Are there things you wish others would do for you in order to rest? 
          <br><br>
          To lull you into remembering the ways you already know rest?
          <br><br>
          Murmur these strategies.
          <br><br>
          Tell rest your secrets.
          <br><br>
          Make this space your wishing well, held by all the other bodies beaming in... 
          <br><br>
          holding you just as you are. 
          <br><br>
          We got each other.
         </div>

         <div id='section-about'>
          <a href="http://virtualcarelab.com/about">virtual care lab</a> is an open assemblage of people exploring presence, connection and collaboration in digital contexts. We hold creative exchanges of joy, grief, breath, ideas, resources, and expansive forms of community care. Our projects have included many unconventional virtual gatherings, focused discussions, participatory performances, and online portals that celebrate experimentalism and invite people to explore risky or raw ideas, question things, get real, and reinvent identities, myths and protocols for ourselves, together.  
          <br><br>
          We created this collective rest portal as part of the 2021 <a href="https://www.4sonline.org/meeting/">4S Annual Meeting</a>. We will hold a <a href="https://www.eventbrite.ca/e/4s-x-virtual-care-lab-collective-rest-nap-dream-portal-tickets-175137941297">public gathering on Fri, Oct 9</a> to practice resting with each other through meditation and social dreaming. 
          <br><br><hr><br>
          <i>Portal contributors: Alice Yuan Zhang, Sara Victoria Suárez, Elenie Chung, hannah rubin, Lea Rose Sebastianis, Marcus Brittain Fleming. 
          <br><br>This mini-site is designed and developed by Alice Yuan Zhang. </i>
         </div>

         <br><br>
     </div>
</body>

<footer><i>this portal for collective rest is an<br>offering from folks at <a href="http://virtualcarelab.com/">virtual care lab</a> ❉</i></footer>


</html>


<!-- All the magic happens in this part of the code -->
<script>

  let chatContainer = document.getElementById("chat-container");

  //First we just set some config parameters
  //These are meant to be secret to my project, so please be nice
  var firebaseConfig = {
    apiKey: "AIzaSyAhsseNLfVomaBwaBw88uqaPP23ccgL08c",
    authDomain: "vcl-rest.firebaseapp.com",
    databaseURL: "https://vcl-rest-default-rtdb.firebaseio.com",
    projectId: "vcl-rest",
    storageBucket: "vcl-rest.appspot.com",
    messagingSenderId: "806191675690",
    appId: "1:806191675690:web:210479404a19a7cbc54653",
    measurementId: "G-B51QSEWRJL"
  };

  //Then we set up with firebase project data
  firebase.initializeApp(firebaseConfig); 

  const db = firebase.database(); //firebase has different features. we set up short to the database feature. 
  let dbRef = db.ref("/text"); //database shouldn't be accessed in its root. needs reference to a folder inside. if it doesn't exist it'll make it for you
  dbRef.on("child_added", data => { //gets called when data comes through. 'data =>' is an anonymous function shortcut
    let id = data.key;
    let value = data.val();
    //So you just add that new thing
    console.log(value);
    chatContainer.innerHTML = "<div class='response'>" + value + "</div>" + chatContainer.innerHTML;
  });

  console.log(chatContainer);

  //click button will run this function
  const textInputSubmit = document.getElementById("text-input-submit");
  textInputSubmit.addEventListener("click", () => submitText()); 
  //can also use "click", (e) => {console.log(e)} and when you use this the 'e' has additional info like e.pageX where on the page they clicked (would use 'window.addEventListener')

  let textContainerElement = document.getElementById("text-input-entry");
  function submitText() {
    let textToSubmit = textContainerElement.value; //gets text value from textbox
    let newKey = dbRef.push().key; //ask firebase to give you a new key / 'name'

    let updates = {}; //going to send firebase list of values
    updates[newKey] = textToSubmit;
    dbRef.update(updates);
  }


  //PRESENCE COUNTER

  let presenceRef = db.ref("/presence");
  let thisVisitor = presenceRef.push();

  presenceRef.on("value", function(snap) {
    if (snap.val()) {
      // Remove ourselves when we disconnect.
      thisVisitor.onDisconnect().remove();
      thisVisitor.set(true);
    }
  });

  // Number of online users is the number of objects in the presence list.
  presenceRef.on("value", function(snap) {
    let counter = snap.numChildren() - 1;
    console.log(counter);
    if (counter > 1) {
     presenceCounter.innerHTML = counter + " people are resting together in this moment";
    } else { 
    presenceCounter.innerHTML = counter + " person is resting here";
   };
  });

  function replace(section_id) {
   document.getElementById('section-bed').style.display = 'none';
   document.getElementById('section-why').style.display = 'none';
   document.getElementById('section-presence').style.display = 'none';
   document.getElementById('section-lineages').style.display = 'none';
   document.getElementById('section-score').style.display = 'none';
   document.getElementById('section-about').style.display = 'none';
   document.getElementById(section_id).style.display ='block';

   if (section_id == 'section-presence') {
     document.getElementById('current-section').style.backgroundImage = "url('./media/vid_car.gif')";
   } else {
     document.getElementById('current-section').style.backgroundImage = "none";
   }
  }

  function submitlock() {
    let entry = document.getElementById("text-input-entry");
    let share = document.getElementById("text-input-submit");
    entry.remove();
    share.value = "WE FEEL YOU!";
    share.style.width = "70%";
    share.disabled = true;
  }

</script>
